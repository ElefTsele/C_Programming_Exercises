\doxysection{common\+\_\+macros.\+h}
\hypertarget{common__macros_8h_source}{}\label{common__macros_8h_source}\index{include/common\_macros.h@{include/common\_macros.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ COMMON\_MACROS\_H}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ COMMON\_MACROS\_H}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ \ \ Generic\ Value\ Macros}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{comment}{//\ Calculates\ the\ number\ of\ elements\ in\ a\ static\ array}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ =\ sizeof(my\_array)\ /\ sizeof(my\_array[0]);}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#define\ ARRAY\_SIZE(arr)\ (sizeof(arr)\ /\ sizeof((arr)[0]))}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{comment}{//\ Returns\ the\ minimum\ of\ two\ values}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#define\ MIN(a,\ b)\ (((a)\ <\ (b))\ ?\ (a)\ :\ (b))}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{comment}{//\ Returns\ the\ maximum\ of\ two\ values}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#define\ MAX(a,\ b)\ (((a)\ >\ (b))\ ?\ (a)\ :\ (b))}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{comment}{//\ Clamps\ a\ value\ between\ min\ and\ max}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#define\ CLAMP(val,\ min\_val,\ max\_val)\ (MAX((min\_val),\ MIN((val),\ (max\_val))))}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{comment}{//\ ==============================}}
\DoxyCodeLine{00022\ \textcolor{comment}{//\ \ \ Utility\ Macros}}
\DoxyCodeLine{00023\ \textcolor{comment}{//\ ==============================}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{comment}{//\ Swaps\ two\ values\ (requires\ a\ temp\ variable\ declaration)}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#define\ SWAP(type,\ a,\ b)\ \ do\ \{\ \ type\ tmp\ =\ (a);\ \ (a)\ =\ (b);\ \ (b)\ =\ tmp;\ \ \}\ while\ (0)}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{comment}{//\ Returns\ the\ absolute\ value}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#define\ ABS(x)\ (((x)\ <\ 0)\ ?\ -\/(x)\ :\ (x))}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \textcolor{comment}{//\ Checks\ if\ a\ number\ is\ even}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#define\ IS\_EVEN(x)\ (((x)\ \%\ 2)\ ==\ 0)}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{comment}{//\ Checks\ if\ a\ number\ is\ odd}}
\DoxyCodeLine{00035\ \textcolor{preprocessor}{\#define\ IS\_ODD(x)\ (((x)\ \%\ 2)\ !=\ 0)}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00038\ \textcolor{comment}{//\ \ \ BIT\ Manipulation\ Macros}}
\DoxyCodeLine{00039\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \textcolor{comment}{//\ Create\ bitmask\ from\ bit\ position}}
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\#define\ BIT(n)\ (1U\ <<\ (n))}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \textcolor{comment}{//\ Set\ specific\ bit}}
\DoxyCodeLine{00045\ \textcolor{preprocessor}{\#define\ SET\_BIT(reg,\ bit)\ \ \ \ ((reg)\ |=\ BIT(bit))}}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \textcolor{comment}{//\ Clear\ specific\ bit}}
\DoxyCodeLine{00048\ \textcolor{preprocessor}{\#define\ CLEAR\_BIT(reg,\ bit)\ \ ((reg)\ \&=\ \string~BIT(bit))}}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \textcolor{comment}{//\ Toggle\ specific\ bit}}
\DoxyCodeLine{00051\ \textcolor{preprocessor}{\#define\ TOGGLE\_BIT(reg,\ bit)\ ((reg)\ \string^=\ BIT(bit))}}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \textcolor{comment}{//\ Check\ if\ bit\ is\ set\ (non-\/zero\ if\ set)}}
\DoxyCodeLine{00054\ \textcolor{preprocessor}{\#define\ IS\_BIT\_SET(reg,\ bit)\ (((reg)\ \&\ BIT(bit))\ !=\ 0)}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \textcolor{comment}{//\ Check\ if\ bit\ is\ clear\ (non-\/zero\ if\ clear)}}
\DoxyCodeLine{00057\ \textcolor{preprocessor}{\#define\ IS\_BIT\_CLEAR(reg,\ bit)\ (((reg)\ \&\ BIT(bit))\ ==\ 0)}}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00060\ \textcolor{comment}{//\ \ \ Type-\/Safe\ Helper\ (GCC-\/specific)}}
\DoxyCodeLine{00061\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \textcolor{comment}{//\ Swap\ two\ values\ of\ the\ same\ type\ (type-\/safe,\ GCC\ extension)}}
\DoxyCodeLine{00064\ \textcolor{preprocessor}{\#define\ SWAP\_SAFE(a,\ b)\ \ \ \ do\ \{\ \ \_\_typeof\_\_(a)\ \_tmp\ =\ (a);\ \ (a)\ =\ (b);\ \ (b)\ =\ \_tmp;\ \ \}\ while\ (0)}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00067\ \textcolor{comment}{//\ \ \ Structure\ Utilities}}
\DoxyCodeLine{00068\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \textcolor{comment}{//\ Get\ pointer\ to\ struct\ from\ member\ pointer\ (Linux-\/style)}}
\DoxyCodeLine{00071\ \textcolor{preprocessor}{\#define\ container\_of(ptr,\ type,\ member)\ \ \ \ ((type\ *)((char\ *)(ptr)\ -\/\ offsetof(type,\ member)))}}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00074\ \textcolor{comment}{//\ \ \ Range\ checking}}
\DoxyCodeLine{00075\ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \textcolor{comment}{//\ Check\ if\ x\ is\ within\ [min,\ max]\ range}}
\DoxyCodeLine{00078\ \textcolor{preprocessor}{\#define\ IN\_RANGE(x,\ min,\ max)\ (((x)\ >=\ (min))\ \&\&\ ((x)\ <=\ (max)))}}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \textcolor{comment}{//\ Clamp\ +\ assign:\ x\ =\ clamp(x,\ min,\ max)}}
\DoxyCodeLine{00081\ \textcolor{preprocessor}{\#define\ CLAMP\_ASSIGN(x,\ min,\ max)\ \ \ do\ \{\ \ if\ ((x)\ <\ (min))\ (x)\ =\ (min);\ \ else\ if\ ((x)\ >\ (max))\ (x)\ =\ (max);\ \ \}\ while\ (0)}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
